# TSF Structure

The TSF-related additions, such as the Trustable Graph and tooling extensions, are primarily organized within the TSF folder:
- the items of the Trustable Graph are in `TSF/trustable` 
- the building blocks of the documentation, which is built with the S-CORE docs-as-code tool, is placed in `TSF/docs` 
- the report generated by [trudag](https://codethinklabs.gitlab.io/trustable/trustable/trudag/usage.html) is placed in `TSF/docs/generated`. This can either be produced as part of the CI pipeline or manually using `./TSF/scripts/generate_report.sh_`. It is strongly recommended that the TSF/docs folder is included in the .gitignore file
- the utility scripts are documented in the `TSF/scripts` folder

The TSF graph (including links, nodes and their hashes) is saved in the `.dotstop.dot` file and the trudag extensions including CPP test references are stored in the `.dotstop_extensions` folder since these locations are required by the trudag tool.

# Forking the repository

In order to fork this repository or set up any repository where the TSF documentation in this repository is to be included, the following settings have to be configured on GitHub.

- In `Settings` > `General` >`Features`:
    - Enable `Issues`
    
- In `Settings` > `Code and automation` > `Branches`:
    - Click `Add classic branch protection rule` and add "main" to the `Branch name pattern` 
    - Make sure that only the following settings are enabled:
        - `Require a pull request before merging`
        - `Require approvals`
        - `Require review from Code Owners`
        - `Require status checks to pass before merging`
        - `Require branches to be up to date before merging`
        - `Require linear history`
        - `Do not allow bypassing the above settings`

- In `Settings` > `Code and automation` > `Actions` > `General` > `Workflow Permissions`:
    - Make sure that only the following settings are enabled:
        - `Allow all actions and reusable workflows`
        - `Require approval for first-time contributors`
        - `Read repository contents and packages permissions`

- In `Settings` > `Code and automation` > `Pages`:
    - Under `Source`, select `GitHub Actions`

- In `Settings` > `Security` > `Advanced Security`:
    - Make sure that only the following settings are enabled:
        - `Dependency graph`
        - `Dependabot alerts`

- In `Actions tab`:
    - Click `I understand my workflows, go ahead and enable them`
    - In the left side menu, click `Show more workflows...` and enable any workflows which are labelled as `Disabled`